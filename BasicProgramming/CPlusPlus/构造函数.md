#CPP 

[toc]

# 注意点
1. 可以使用`constexpr`关键字将构造函数定义为常量表达式.这可能有助于提高性能.
2. 推荐使用[成员列表初始化](C++注意点.md#17.%20类成员初始化方式)来设置成员,但是注意初始化列表中实际的初始化顺序是不定的
3. 类成员尽量不要用[原始指针](https://docs.microsoft.com/zh-cn/cpp/cpp/raw-pointers?view=msvc-160)  
4. 声明构造函数务必使用关键字 [`explicit`](C++注意点.md#15%20explicit)来避免隐式转换
5. 构造函数和析构函数中调用虚函数都是静态解析
6. 不可以在一个构造函数中调用另外一个构造函数,若一定要这么做,使用委托构造函数
7. 类不能继承默认,拷贝和移动构造函数
8. 处理构造函数初始值异常的唯一方法是将构造函数写成函数try语句快,详见C++ Primer 5th P690.

# 默认构造函数  
不提供构造参数就可以调用的构造函数是默认构造函数,其形式可以是:    
-  编译器生成的构造函数    
- 无参数的构造函数
- 所有形参带有默认值的构造函数

若类在定义时没有提供构造函数,则编译器会生成默认构造函数.注意**若提供了重载的构造函数,编译器是不会生成默认构造函数.**   

>定义了任何的构造函数,编译器都不会提供默认的无参构造函数,此时一定注意对于单实参构造函数要加上`explicit`,以避免非预期的隐式转换
><C++17入门经典 p341>

#  拷贝构造函数
1. 当类中包含有[原始指针(`char*`)](https://docs.microsoft.com/zh-cn/cpp/cpp/raw-pointers?view=msvc-160)等成员指针时,注意要提供拷贝构造函数和复制赋值运算符.      

2. 其形式是接受一个以引用传入当前类对象作为参数,确保原始指针等成员可以被正确的深拷贝.**注意参数必须是以引用传递的,否则拷贝构造函数将不断调用自己直到耗尽内存.  引用务必使用 const 引用**

3. 注意若方法是按值传递的时候,一定要考虑被传的参数是否需要使用拷贝构造函数来正确深拷贝.  
>C++17入门经典 P272 也有相关说明

# 移动构造函数  
常见是使用移动赋值运算符实现的.
>见 21天学通C++ P166

# 委托构造函数
一个构造函数的代码可以在初始化列表中调用同一个类中的另一个构造函数.
**一般情况下不可以在构造函数中调用另外一个构造函数,若要实现这种功能,须使用委托构造函数**
> 见C++17入门经典 P271