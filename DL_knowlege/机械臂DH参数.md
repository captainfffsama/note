#具身智能 

# 揭秘机械臂的“关节语言”：DH 参数详解

在机器人学领域，尤其是当我们要精确描述和控制一个多关节的机械臂时，会遇到一个至关重要的概念——**DH 参数 (Denavit-Hartenberg Parameters)**。

简单来说，DH 参数是一套标准化的方法，它**仅使用四个核心参数，就能精确地描述机械臂上任意两个相邻关节（连杆）之间的相对位置和姿态关系**。它就像是机械臂的“基因编码”或“关节语言”，将复杂的物理结构转化为简洁、通用的数学模型，是进行机械臂运动学分析（正向与逆向运动学）和动力学分析的基础。

## 为什么需要 DH 参数？

想象一下，一个 6 轴机械臂有 6 个关节和 7 个连杆（包括基座和末端执行器）。要描述从基座到手臂末端的完整姿态，就需要定义一系列坐标系，并计算这些坐标系之间的转换关系。如果没有统一标准，每个人的定义方式都可能不同，会导致模型无法通用。

DH 参数的出现解决了这个问题，它提供了一套**统一的坐标系建立规则和参数定义方法**，其核心优势在于：

1. **标准化**：为任何串联式机械臂提供了统一的建模语言。
2. **最小化**：仅用四个参数就描述了两个关节坐标系间的完整变换，大大简化了计算。
3. **系统化**：可以将复杂的正向运动学问题，分解为一系列标准的、连续的矩阵乘法运算。
    

## DH 参数的四个核心成员

DH 参数是基于特定规则建立的坐标系来定义的。规则要求每个关节的 `z` 轴与其运动轴线重合（旋转或移动），而 `x` 轴则沿着两个相邻 `z` 轴的公垂线方向。

在此基础上，从上一个关节的坐标系 {i-1} 变换到当前关节的坐标系 {i}，需要四个参数，它们分为两组：**连杆参数**和**关节参数**。

### 1. 连杆参数 (Link Parameters) - 描述连杆自身的几何结构

这两个参数描述了连杆的“形状”，对于一个固定的机械臂，它们是**恒定不变**的。

- $a_{i−1}$ (Link Length / 连杆长度)
    - **定义**: 沿 $x_{i−1}$ 轴，从 $z_{i−1}$ 轴到 $z_i$ 轴的距离。也就是两个相邻关节轴线之间的公垂线长度。
    - **通俗理解**: 两个关节轴之间的“水平”距离。
        
- $\alpha_{i−1}$ (Link Twist / 连杆扭转角)
    - **定义**: 绕 $x_ {i−1}$ 轴，从 $z_{i−1}$ 轴旋转到 $z_i$ 轴的角度。
    - **通俗理解**: 两个相邻关节轴线之间的平行度偏差，即连杆的“扭曲”程度。
        

_图：连杆长度 a 和连杆扭转角 α 定义了两个关节轴之间的固定关系_

### 2. 关节参数 (Joint Parameters) - 描述关节间的相对运动

这两个参数描述了关节的“运动”，其中一个通常是**变量**（取决于关节是旋转还是移动），另一个是常量。

- $d_i$ (Link Offset / 连杆偏移)
    - **定义**: 沿 $z_i$ 轴，从 $x_{i−1}$ 轴到 $x_i$ 轴的距离。
    - **通俗理解**: 两个连杆之间的“垂直”距离。
    - **注意**: 对于**移动关节 (Prismatic Joint)**，这个 $d_i$ 是**变量**。
- $\theta_i$ (Joint Angle / 关节角)
    
    - **定义**: 绕 $z_i$ 轴，从 $x_{i−1}$ 轴旋转到 $x_i$ 轴的角度。
    - **通俗理解**: 关节的旋转角度
    - **注意**: 对于**旋转关节 (Revolute Joint)**，这个 $\theta_i$ 是**变量**。
        
### 从参数到运动：变换矩阵

这四个参数的强大之处在于，它们可以直接构建一个 4x4 的**齐次变换矩阵** (Homogeneous Transformation Matrix)，记为 $A_i$ 。这个矩阵完整地描述了从坐标系 {i-1} 到 {i} 的所有平移和旋转。

$A_i$ 是通过四次基本变换（两次旋转，两次平移）的连乘得到的：

$$
A_i=Rot_{z,\theta_i} \cdot Trans_{z,d_i} \cdot Trans_{x,a_{i-1}} \cdot Rot_{x,\alpha_{i-1}}
$$

其标准矩阵形式为：

$$
A_i = \begin{pmatrix} \cos\theta_i & -\sin\theta_i\cos\alpha_{i-1} & \sin\theta_i\sin\alpha_{i-1} & a_{i-1}\cos\theta_i \\ \sin\theta_i & \cos\theta_i\cos\alpha_{i-1} & -\cos\theta_i\sin\alpha_{i-1} & a_{i-1}\sin\theta_i \\ 0 & \sin\alpha_{i-1} & \cos\alpha_{i-1} & d_i \\ 0 & 0 & 0 & 1 \end{pmatrix} 
$$ 

### 正向运动学求解

对于一个 n 轴机械臂，我们只要为每个关节都建立一个 DH 参数表，就能得到 $A_1, A_2, …, A_n$ 共 n 个变换矩阵。机械臂末端相对于基座的总变换矩阵 $T_n^0$ 就是这些矩阵的连乘积： 

$$
T_n^0 = A_1 \cdot A_2 \cdot A_3 \cdot \dots \cdot A_n
$$ 

这个最终的 $T_n^0$ 矩阵就告诉了我们，当每个关节处于特定角度（变量 $\theta_i$ 或位移 $d_i$ ）时，机械臂末端执行器的精确位置和姿态。这就是**正向运动学**的核心过程。

## 总结

总而言之，DH 参数是一座桥梁，它将机械臂的物理实体连接到了严谨的数学世界，是理解、分析和控制高级机器人不可或缺的基础知识。

| 参数                 | 名称        | 描述                      | 类型       | 对于旋转关节 | 对于移动关节 |
| ------------------ | --------- | ----------------------- | -------- | ------ | ------ |
| **$a_{i-1}$**      | **连杆长度**  | 两个相邻 $z$ 轴之间的公垂线距离      | 连杆几何（固定） | 常量     | 常量     |
| **$\alpha_{i-1}$** | **连杆扭转角** | 两个相邻 $z$ 轴之间的夹角（绕公垂线旋转） | 连杆几何（固定） | 常量     | 常量     |
| **$d_i$**          | **连杆偏移**  | 两个相邻 $x$ 轴沿 $z\_i$ 轴的距离 | 关节关系     | 常量     | **变量** |
| **$\theta_i$**     | **关节角**   | 两个相邻 $x$ 轴绕 $z\_i$ 轴的夹角 | 关节关系     | **变量** | 常量     |
